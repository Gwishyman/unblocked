<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>shitty temu snake</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      touch-action: none;
      background: #000;
      font-family: sans-serif;
    }
    canvas {
      display: block;
      margin: auto;
      background: #111;
    }
    #ui {
      position: absolute;
      top: 10px;
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 10px;
      z-index: 10;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      background: #222;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #333;
    }
  </style>
</head>
<body>
<div id="ui">
  <button id="startBtn">Start</button>
  <button id="pauseBtn" style="display:none;">Pause</button>
</div>
<canvas id="game" width="400" height="400"></canvas>
<script>
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  const scale = 20;
  const rows = canvas.height / scale;
  const cols = canvas.width / scale;

  const startBtn = document.getElementById('startBtn');
  const pauseBtn = document.getElementById('pauseBtn');

  let snake, food, gameInterval;
  let paused = false;

  class Snake {
    constructor() {
      this.body = [{x: 10, y: 10}];
      this.xSpeed = 1;
      this.ySpeed = 0;
      this.grow = false;
    }

    update() {
      const head = {x: this.body[0].x + this.xSpeed, y: this.body[0].y + this.ySpeed};
      this.body.unshift(head);
      if (!this.grow) this.body.pop();
      else this.grow = false;
    }

    changeDirection(x, y) {
      if (this.xSpeed !== -x && this.ySpeed !== -y) {
        this.xSpeed = x;
        this.ySpeed = y;
      }
    }

    eat(pos) {
      if (this.body[0].x === pos.x && this.body[0].y === pos.y) {
        this.grow = true;
        return true;
      }
      return false;
    }

    checkCollision() {
      const head = this.body[0];
      if (head.x < 0 || head.x >= cols || head.y < 0 || head.y >= rows) return true;
      for (let i = 1; i < this.body.length; i++) {
        if (head.x === this.body[i].x && head.y === this.body[i].y) return true;
      }
      return false;
    }

    draw(ctx) {
      ctx.fillStyle = 'lime';
      for (const part of this.body) {
        ctx.fillRect(part.x * scale, part.y * scale, scale, scale);
      }
    }
  }

  function randomFood() {
    return {
      x: Math.floor(Math.random() * cols),
      y: Math.floor(Math.random() * rows)
    };
  }

  function drawFood(pos) {
    ctx.fillStyle = 'red';
    ctx.fillRect(pos.x * scale, pos.y * scale, scale, scale);
  }

  function resetGame() {
    snake = new Snake();
    food = randomFood();
  }

  function gameLoop() {
    if (paused) return;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    snake.update();
    if (snake.checkCollision()) {
      alert('oh noooo you dead');
      clearInterval(gameInterval);
      startBtn.style.display = 'inline-block';
      pauseBtn.style.display = 'none';
      return;
    }
    if (snake.eat(food)) {
      food = randomFood();
    }
    snake.draw(ctx);
    drawFood(food);
  }

  // Keyboard controls
  window.addEventListener('keydown', (e) => {
    switch (e.key) {
      case 'ArrowUp': snake.changeDirection(0, -1); break;
      case 'ArrowDown': snake.changeDirection(0, 1); break;
      case 'ArrowLeft': snake.changeDirection(-1, 0); break;
      case 'ArrowRight': snake.changeDirection(1, 0); break;
    }
  });

  // Swipe controls
  let touchStartX = 0, touchStartY = 0;

  window.addEventListener('touchstart', (e) => {
    const touch = e.touches[0];
    touchStartX = touch.clientX;
    touchStartY = touch.clientY;
  });

  window.addEventListener('touchmove', (e) => {
    if (!touchStartX || !touchStartY) return;

    const touch = e.touches[0];
    const dx = touch.clientX - touchStartX;
    const dy = touch.clientY - touchStartY;

    if (Math.abs(dx) > Math.abs(dy)) {
      if (dx > 10) snake.changeDirection(1, 0);
      else if (dx < -10) snake.changeDirection(-1, 0);
    } else {
      if (dy > 10) snake.changeDirection(0, 1);
      else if (dy < -10) snake.changeDirection(0, -1);
    }

    touchStartX = 0;
    touchStartY = 0;
  });

  // UI Buttons
  startBtn.onclick = () => {
    resetGame();
    gameInterval = setInterval(gameLoop, 200);
    paused = false;
    startBtn.style.display = 'none';
    pauseBtn.style.display = 'inline-block';
  };

  pauseBtn.onclick = () => {
    paused = !paused;
    pauseBtn.textContent = paused ? 'Resume' : 'Pause';
  };
</script>
</body>
</html>